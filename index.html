<!doctype html>
<html lang="en">

<head>
    <link rel="stylesheet" href="css/ol.css" type="text/css">
    <style>
    .map {
        height: 400px;
        width: 100%;
    }
    </style>
    <script src="js/ol.js" type="text/javascript"></script>
    <title>OpenLayers 3 example</title>
</head>

<body>
    <h2>My Map</h2>
    <div id="map" class="map"></div>
    <select onchange="setMapType(value)">
        <option value="OSM">OSM</option>
        <option value="Dark">Dark</option>
    </select>
    <script type="text/javascript">
    // Vector layer from a GeoJson file url
    var gjsonLibraries = new ol.layer.Vector({
        source: new ol.source.Vector({
            url: 'data/natural.geojson',
            format: new ol.format.GeoJSON()
        })
    });



    var layersOSM = new ol.layer.Group({
        layers: [
            new ol.layer.Tile({
                source: new ol.source.OSM()
            })
        ]
    });

    var layersDark = new ol.layer.Group({
        layers: [
            new ol.layer.Tile({
                source: new ol.source.XYZ({
                    url: 'http://{1-4}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',
                    attributions: [new ol.Attribution({
                        html: ['&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>']
                    })]
                })
            })
        ]
    });
     /*    var map = new ol.Map({
            target: 'map',
            layers: [
                new ol.layer.Tile({
                    source: new ol.source.OSM()
                }),
                darkLayer,
                gjsonLibraries
            ],
            view: new ol.View({
                center: ol.proj.fromLonLat([103.85, 1.29]),
                //center:  ol.proj.transform([103.85, 1.29], 'EPSG:4326', 'EPSG:3857'),

                zoom: 11,
                maxZoom: 16,
                minZoom: 10
            })
        });*/

    var map = new ol.Map({
        target: 'map',
        layers: [

        ],
        view: new ol.View({
            center: ol.proj.fromLonLat([103.85, 1.29]),

            zoom: 11,
            maxZoom: 16,
            minZoom: 10
        })
    });

    function setMapType(newType) {
        if (newType == 'OSM') {
            map.setLayerGroup(layersOSM);
        } else if (newType == 'Dark') {
            map.setLayerGroup(layersDark);
        }
    }
    </script>
</body>

</html>
